<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Ver datos - QRizate</title>
    <link rel="stylesheet" href="./css/index.css">
    <link rel="stylesheet" href="./css/ver-datos.css">
</head>
<body>
    <div class="app-bar">
        <span class="app-bar__title">Datos de la base de datos</span>
        <button class="app-bar-btn" onclick="window.location.href='index.html'">Volver</button>
    </div>
    <div class="main-container">
        <div class="busqueda-bar">
            <div class="input-icon-wrapper">
                <span class="search-icon">üîç</span>
                <input id="filtro" type="text" placeholder="Buscar...">
            </div>
            <button id="recargar-btn" type="button" class="recargar-btn" title="Recargar">
                <span class="reload-icon">‚ü≥</span> Recargar
            </button>
            <button id="borrar-todo-btn" type="button" class="recargar-btn" style="background:#e74c3c;margin-left:8px;" title="Borrar todo">
                üóëÔ∏è Borrar Todo
            </button>
        </div>
        <div id="tabla-datos" class="tabla-scroll" style="margin-top:8px;"></div>
    </div>
    <script src="./js/ver-datos.js"></script>
    <script>
        function mapExcelRows(rows) {
            const fieldMap = {
                'ID': 'id', 
                'CATEGORIA': 'categoria', 
                'CENTRAL DE COSTOS': 'central_de_costos',
                'Nombre de central de costos': 'nombre_central_costos', 
                'AREA': 'area', 
                'Nombre del √°rea': 'nombre_area',
                'NOMBRE CENTRAL DE COSTOS': 'nombre_central_costos', 
                'CORRELATIVO': 'correlativo', 
                'CUENTA CONTABLE': 'cuenta_contable', 
                'ESTADO': 'estado',
                'DESCRIPCION': 'descripcion', 
                'DESCRIPCI√ìN': 'descripcion', 
                'MARCA': 'marca', 
                'MODELO': 'modelo',
                'NUMERO DE SERIE': 'numero_serie', 
                'N√öMERO DE SERIE': 'numero_serie', 
                'SERIE': 'numero_serie',
                'CODIGO': 'codigo', 
                'C√ìDIGO': 'codigo', 
                'SEDE': 'sede', 
                'URL': 'url',
                'NUMERO CENTRAL COSTO': 'numero_central_costo'  // Aseg√∫rate de que est√© aqu√≠
            };
            return rows.map(row => {
                const mapped = {};
                for (const [excelCol, dbField] of Object.entries(fieldMap)) {
                    if (row[excelCol] !== undefined) {
                        mapped[dbField] = String(row[excelCol]).trim();
                    }
                }
                return mapped;
            });
        }
    </script>
</body>
</html>